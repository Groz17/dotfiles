* post-merge
#+begin_src bash :tangle ./.git/hooks/post-merge :shebang "#!/usr/bin/env bash"
tmpfile=$(mktemp)
trap 'rm -f "$tmpfile"' EXIT

if ! git diff --exit-code -z --name-only ORIG_HEAD @ -- '*.org' > "$tmpfile"; then

 read -r -n1 -p $'\nTangle pulled org files? [y|n] ' < /dev/tty
 [[ $REPLY = 'n' ]] && { printf '\n'; exit 1; }

 xargs -0r -a "$tmpfile" nvim -Resc 'argdo exe "norm \<C-c>\<C-v>\<C-t>"' --
 printf "\nTangled!\n"
fi
#+end_src
